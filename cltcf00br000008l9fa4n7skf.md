---
title: "ë™ê¸°ì™€ ë¹„ë™ê¸° vs ë¸”ë½í‚¹ê³¼ ë…¼ë¸”ë½í‚¹"
datePublished: Sat Jul 08 2023 15:00:00 GMT+0000 (Coordinated Universal Time)
cuid: cltcf00br000008l9fa4n7skf
slug: vs
cover: https://cdn.hashnode.com/res/hashnode/image/stock/unsplash/1j9Yrl0nW10/upload/008374c9d3bb24284dd57fc19cff17f5.jpeg

---

## ë™ê¸°ì™€ ë¹„ë™ê¸° vs ë¸”ë½í‚¹ê³¼ ë…¼ë¸”ë½í‚¹

[ì°¸ê³  ìë£Œ 1](https://inpa.tistory.com/entry/%F0%9F%91%A9%E2%80%8D%F0%9F%92%BB-%EB%8F%99%EA%B8%B0%EB%B9%84%EB%8F%99%EA%B8%B0-%EB%B8%94%EB%A1%9C%ED%82%B9%EB%85%BC%EB%B8%94%EB%A1%9C%ED%82%B9-%EA%B0%9C%EB%85%90-%EC%A0%95%EB%A6%AC) [ì°¸ê³  ìë£Œ 2](https://evan-moon.github.io/2019/09/19/sync-async-blocking-non-blocking/#%EB%8F%99%EA%B8%B0-%EB%B0%A9%EC%8B%9D--%EB%85%BC%EB%B8%94%EB%A1%9D%ED%82%B9-%EB%B0%A9%EC%8B%9D) [ì°¸ê³  ìë£Œ 3](http://homoefficio.github.io/2017/02/19/Blocking-NonBlocking-Synchronous-Asynchronous/) [ì°¸ê³  ìë£Œ 4](https://velog.io/@codemcd/Sync-VS-Async-Blocking-VS-Non-Blocking-sak6d01fhx)

### ë™ê¸° & ë¹„ë™ê¸°

ì—¬ëŸ¬ ê°œì˜ í•¨ìˆ˜ë“¤ì´ ***ì‹œê°„ì„ ë§ì¶°ì„œ ì‹¤í–‰ë˜ëŠëƒ***ì— ë”°ë¼ êµ¬ë¶„

> * **ë™ê¸°**  
>     í•¨ìˆ˜ê°€ ë‘ ê°œ ì´ìƒ ì¡´ì¬í•  ë•Œ, ì´ í•¨ìˆ˜ë“¤ì´ ì‘ì—…ì„ ë™ì‹œì— ì‹œì‘í•˜ê±°ë‚˜, ëë‚˜ëŠ” íƒ€ì´ë°ì„ ë§ì¶”ê±°ë‚˜, í•˜ë‚˜ê°€ ëë‚˜ê³  ë‹¤ë¥¸ í•˜ë‚˜ë¥¼ ì°¨ë¡€ë¡œ ì‹¤í–‰í•˜ëŠ” ê²ƒ
>     
> * **ë¹„ë™ê¸°**  
>     ë‘ í•¨ìˆ˜ëŠ” ì„œë¡œê°€ ì–¸ì œ ì‹œì‘í•˜ê³ , ì–¸ì œ ì¼ì„ ë§ˆì¹˜ëŠ”ì§€ ì „í˜€ ì‹ ê²½ì“°ì§€ ì•ŠëŠ” ê²ƒ
>     

### ë¸”ë¡œí‚¹ & ë…¼ë¸”ë¡œí‚¹

> * **ì œì–´ê¶Œ**  
>     ìì‹ (í•¨ìˆ˜)ì˜ ì½”ë“œë¥¼ ì‹¤í–‰í•  ê¶Œë¦¬ ê°™ì€ ê²ƒ. ì œì–´ê¶Œì„ ê°€ì§„ í•¨ìˆ˜ëŠ” ìì‹ ì˜ ì½”ë“œë¥¼ ëê¹Œì§€ ì‹¤í–‰í•œ í›„, ìì‹ ì„ í˜¸ì¶œí•œ í•¨ìˆ˜ì—ê²Œ ëŒë ¤ì¤€ë‹¤.
>     
> * **ë¸”ë¡œí‚¹**  
>     ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ, ì œì–´ê¶Œë„ ì•„ì˜ˆ í•¨ê»˜ ë„˜ê²¨ì£¼ê³  ì‘ì—…ì´ ëë‚œ í›„ì— ëŒë ¤ë°›ëŠ” ë°©ì‹
>     
> * **ë…¼ë¸”ë¡œí‚¹**  
>     í˜¸ì¶œí•  ë•Œ ì œì–´ê¶Œì„ ë„˜ê²¨ì£¼ê¸°ëŠ” í•˜ì§€ë§Œ, ë°”ë¡œ ëŒë ¤ë°›ëŠ”ë‹¤.
>     

### ìš”ì•½

> ë™ê¸°/ë¹„ë™ê¸° : ì‹œê°„ì„ ë§ì¶”ëƒ, ì•ˆë§ì¶”ëƒ  
> ë¸”ë¡œí‚¹/ë…¼ë¸”ë¡œí‚¹ : ì œì–´ê¶Œì„ ë„˜ê²¨ì£¼ëƒ, ì•ˆë„˜ê²¨ì£¼ëƒ

ë°±ë¬¸ì´ ë¶ˆì—¬ì¼ê²¬! ì½”ë“œë¡œ ì§ì ‘ í•œë²ˆ ë´ë³´ì!

```javascript
function employee() {
  for (let i = 1; i < 101; i++) {
    console.log(`ì§ì›: ì¸í˜• ëˆˆì•Œ ë¶™íˆê¸° ${i}ë²ˆ ìˆ˜í–‰`);
  }
}

function boss() {
  console.log('ì‚¬ì¥: ì¶œê·¼');
  employee();
  console.log('ì‚¬ì¥: í‡´ê·¼');
}

boss();
```

ì‚¬ì¥: ì¶œê·¼ ì§ì›: ì¸í˜• ëˆˆì•Œ ë¶™íˆê¸° 1ë²ˆ ìˆ˜í–‰ ì§ì›: ì¸í˜• ëˆˆì•Œ ë¶™íˆê¸° 2ë²ˆ ìˆ˜í–‰ ... ì§ì›: ì¸í˜• ëˆˆì•Œ ë¶™íˆê¸° 100ë²ˆ ìˆ˜í–‰ ì‚¬ì¥: í‡´ê·¼

* ë¸”ë½í‚¹ì¼ê¹Œ? ë…¼ë¸”ë½í‚¹ì¼ê¹Œ?
    

1. `boss()`í•¨ìˆ˜ ë‚´ì—ì„œ `employee()`í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë©´ `boss()`í•¨ìˆ˜ì˜ *ì œì–´ê¶Œ*ì´ `employee()`ë¡œ ë„˜ì–´ê°„ë‹¤.
    
2. `employee()`í•¨ìˆ˜ëŠ” ì¢…ë£Œëœ ì´í›„ì— ì œì–´ê¶Œì„ ë‹¤ì‹œ `boss()`í•¨ìˆ˜ë¡œ ë„˜ê²¨ì¤€ë‹¤.  
    \-&gt; ìŒ! ì œì–´ê¶Œì„ ë„˜ê²¨ì£¼ê³  ë‹¤ì‹œ ë°›ì•˜ìœ¼ë‹ˆ *ë¸”ë½í‚¹* ì´êµ¬ë‚˜!
    

* ë™ê¸°ì¼ê¹Œ? ë¹„ë™ê¸°ì¼ê¹Œ?
    

1. `boss()`í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë‹¤ê°€ `employee()`í•¨ìˆ˜ê°€ ì‹¤í–‰ëœë‹¤.
    
2. `employee()`í•¨ìˆ˜ê°€ ì¢…ë£Œëœ ì´í›„ì— `boss()`í•¨ìˆ˜ê°€ ë§ˆì € ì‹¤í–‰ë˜ê³  ì¢…ë£Œëœë‹¤. -&gt; ìŒ! ë‘ ê°œì˜ í•¨ìˆ˜ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰ë˜ë‹ˆ *ë™ê¸°* ì´êµ¬ë‚˜!
    

ì¦‰ ìœ„ ì½”ë“œëŠ” **ë™ê¸°-ë¸”ë½í‚¹**ì´ë‹¤.

ë‹¤ìŒ ë¬¸ì œ~!

```c
int main() {
    Future ft = asyncFileChannel.read(~~~); //ë…¼ë¸”ë½í‚¹ í•¨ìˆ˜ - ëŒ€ëµ 60ë¶„ ë™ì•ˆ ì‹¤í–‰ëœë‹¤ê³  ê°€ì •

    while(!ft.isDone()) {
        // isDone()ì€ asyncChannle.read() ì‘ì—…ì´ ì™„ë£Œë˜ì§€ ì•Šì•˜ë‹¤ë©´ falseë¥¼ ë°”ë¡œ ë¦¬í„´í•´ì¤€ë‹¤.
        // isDone()ì€ ë¬¼ì–´ë³´ë©´ ëŒ€ë‹µì„ í•´ì¤„ ë¿ ì‘ì—… ì™„ë£Œë¥¼ ìŠ¤ìŠ¤ë¡œ ì‹ ê²½ì“°ì§€ ì•Šê³ ,
        // isDone()ì„ í˜¸ì¶œí•˜ëŠ” ìª½ì—ì„œ ê³„ì† isDone()ì„ í˜¸ì¶œí•˜ë©´ì„œ ì‘ì—… ì™„ë£Œë¥¼ ì‹ ê²½ì“´ë‹¤.
        // asyncChannle.read()ì´ ì™„ë£Œë˜ì§€ ì•Šì•„ë„ ì—¬ê¸°ì—ì„œ ë‹¤ë¥¸ ì‘ì—… ìˆ˜í–‰ ê°€ëŠ¥ 
    }
}
// ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì‘ì—… ê²°ê³¼ì— ë”°ë¥¸ ë‹¤ë¥¸ ì‘ì—… ì²˜ë¦¬
```

ê·¸ëƒ¥ ë¸”ë¡œê·¸ì—ì„œ í¼ì˜¨ ì½”ë“œì´ë‹¤...! ì£¼ì„ì„ ìì„¸íˆ ì½ìœ¼ë©´ ë™ê¸°/ë¹„ë™ê¸°, ë¸”ë½í‚¹/ë…¼ë¸”ë½í‚¹ì„ íŒë‹¨í•  ìˆ˜ ìˆë‹¤.

[`asyncFileChannel.read`](http://asyncFileChannel.read)`()`í•¨ìˆ˜ëŠ” *ë…¼ë¸”ë½í‚¹* í•¨ìˆ˜ì´ë‹¤. ì¦‰ `main()` í•¨ìˆ˜ëŠ” ì œì–´ê¶Œì„ [`asyncFileChannel.read`](http://asyncFileChannel.read)`()`í•¨ìˆ˜ë¡œ ë„˜ê²¨ì¤€ ë’¤ ë°”ë¡œ ëŒë ¤ë°›ëŠ”ë‹¤.

`isDone()`ì€ ë‹¨ìˆœíˆ [`asyncFileChannel.read`](http://asyncFileChannel.read)`()`í•¨ìˆ˜ì˜ ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆëŠ”ì§€ íŒŒì•…í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤. `isDone()`ì´ `true`ì¼ ë•Œ, ì¦‰ [`asyncFileChannel.read`](http://asyncFileChannel.read)`()`ê°€ ì¢…ë£Œëœ ì´í›„ì— `main()`í•¨ìˆ˜ì˜ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì´ ì‹¤í–‰ë˜ë¯€ë¡œ *ë™ê¸°*ì´ë‹¤.

\-&gt; ì •ë‹µ! **ë…¼ë¸”ë½í‚¹-ë™ê¸°**

ì„ ìƒë‹˜, ë‹¤ìŒ ë¬¸ì œëŠ” **ë¸”ë½í‚¹-ë¹„ë™ê¸°** ì˜ˆì œ ì¸ê°€ìš”?? ã…‹ã…‹  
ì•„ì‰½ê²Œë„ **ë¸”ë½í‚¹-ë¹„ë™ê¸°**ì— ëŒ€í•œ ì˜ˆì œ ì½”ë“œëŠ” ... ì—†ë‹¤ ... ! ëŒ€ì‹  ì–¸ì œ ë¸”ë½í‚¹-ë¹„ë™ê¸°ê°€ ë°œìƒí•˜ëŠ”ì§€ ì„œìˆ í•˜ê² ë‹¤.

> Asynchronous Non-Blocking ëª¨ë¸ ì¤‘ì—ì„œ Blocking ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì‘ì—…ì´ ìˆëŠ” ê²½ìš° ì˜ë„ì™€ ë‹¤ë¥´ê²Œ Asynchronous Blockingìœ¼ë¡œ ë™ì‘í•  ë•Œê°€ ìˆë‹¤ê³  í•œë‹¤.
> 
> ëŒ€í‘œì ì¸ ì˜ˆë¡œëŠ” Node.jsì™€ MySQLì„ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì´ë‹¤. Node.jsëŠ” ë¹„ë™ê¸°ë¡œ ì‘ì—…í•˜ë ¤ í•˜ì§€ë§Œ MySQL ë“œë¼ì´ë²„ê°€ Blocking ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ë¯€ë¡œ ì–´ì©” ìˆ˜ ì—†ì´ Asynchronous Blocking ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ê²Œ ëœë‹¤.

  

í›„í›„ ... ë¶„ëª… ë¸”ë½í‚¹/ë…¼ë¸”ë½í‚¹, ë™ê¸°/ë¹„ë™ê¸°ì— ëŒ€í•œ ì„¤ëª…ì„ ë“¤ìœ¼ë©´ì„œ ë¸”ë½í‚¹ == ë™ê¸°, ë¹„ë™ê¸° == ë…¼ë¸”ë½í‚¹ ì•„ëƒ? ë¼ëŠ” ìƒê°ì„ í–ˆì„ ê²ƒì´ë‹¤ ... ! í•˜ì§€ë§Œ ìœ„ ì˜ˆì‹œë¥¼ ë³´ë©´ ì „í˜€ ì•„ë‹ˆë¼ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤!

```c
int main() {
    Future ft1 = asyncFileChannel.read(A); //ë…¼ë¸”ë½í‚¹ í•¨ìˆ˜ - 5ë¶„ ë™ì•ˆ ì‹¤í–‰
    Future ft2 = asyncFileChannel.read(B); //ë…¼ë¸”ë½í‚¹ í•¨ìˆ˜ - 10ë¶„ ë™ì•ˆ ì‹¤í–‰
}
```

ìœ„ ì½”ë“œëŠ” ... ì–´ë””ë³´ì [`asyncFileChannel.read`](http://asyncFileChannel.read)`(A)`, [`asyncFileChannel.read`](http://asyncFileChannel.read)`(B)` ëª¨ë‘ ë…¼ë¸”ë½í‚¹ í•¨ìˆ˜ì´ê³  2ê°œì˜ í•¨ìˆ˜ëŠ” ì‹œê°„ì— ë§ì¶° ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ë¹„ë™ê¸° ... !  
\-&gt; ì •ë‹µ! **ë…¼ë¸”ë½í‚¹-ë¹„ë™ê¸°**!

ì•„ë˜ëŠ” ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ ë™ê¸° ì²˜ë¦¬ë¥¼ í•´ì£¼ì§€ ì•Šì•„ ìƒê¸´ ë¬¸ì œì´ë‹¤.

### Access Token ê°±ì‹  ìš”ì²­ì´ ë™ì‹œì— 2ë²ˆ ë°œìƒí•˜ë©´ì„œ ìƒê¸´ ë¬¸ì œ

### ğŸš¨ ***Issue***

`okhttp3.Authenticator`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ì—ì„œ ë‚´ë ¤ì˜¨ `HTTP Status Code`ê°€ `401`ì¸ ê²½ìš° ìë™ìœ¼ë¡œ `Access Token` ê°±ì‹  ìš”ì²­ì„ í•˜ë„ë¡ ë§Œë“¤ì–´ë†¨ìŠµë‹ˆë‹¤.

1. ìœ ì €ì˜ `Access Token`ì´ ë§Œë£Œëœ ìƒíƒœì—ì„œ `Access Token`ì´ í•„ìš”í•œ api 2ê°œë¥¼ ë¹„ë™ê¸° í˜¸ì¶œ
    
2. `okhttp3.Authenticator`ì— ì˜í•´ `Access Token Refresh Api`ê°€ 2ë²ˆ ë¹„ë™ê¸° í˜¸ì¶œ
    
3. 2ê°œì˜ `Access Token Refresh Api(ã„±, ã„´)`ì˜ `Body`ì—ëŠ” `A Refresh Token` ê°’ì´ ë“¤ì–´ê°
    
4. `ã„± Api` í˜¸ì¶œì—ì„œ `A Refresh Token`ì´ ê°±ì‹ ë˜ì–´ `B Refresh Token`ìœ¼ë¡œ ë³€ê²½ë¨
    

|  | ã„± Api Http Body | ì„œë²„ DBì— ì €ì¥ëœ ìœ ì €ì˜ Refresh Token |
| --- | --- | --- |
| ìš”ì²­ | refresh : A Refresh Token | A Refresh Token |
| ì²˜ë¦¬ ì™„ë£Œ |  | B Refresh Token |

5. `ã„´ Api`ê°€ í˜¸ì¶œë˜ì§€ë§Œ ì´ë¯¸ `ã„± Api` í˜¸ì¶œì—ì„œ ì„œë²„ DBì— ì €ì¥ëœ ìœ ì €ì˜ `Refresh Token` ê°’ì´ ë°”ë€Œì—ˆê¸° ë•Œë¬¸ì— í† í° ê°±ì‹  ì‹¤íŒ¨
    

|  | ã„´ Api Http Body | ì„œë²„ DBì— ì €ì¥ëœ ìœ ì €ì˜ Refresh Token |
| --- | --- | --- |
| ìš”ì²­ | refresh : A Refresh Token | B Refresh Token |
| ì²˜ë¦¬ ì‹¤íŒ¨ |  | A Refresh Token invaild |

### âœ… ***Solution***

Api í˜¸ì¶œì„ ë™ê¸° ì²˜ë¦¬í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.

```kotlin
//ViewModel.kt

// ì„œë²„ì—ì„œ ê°•ì˜ í‰ê°€ì˜ í†µí•© ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤. ìš”ì²­ì´ ì„±ê³µí–ˆì„ ê²½ìš° onSuccess()ë¥¼ ì‹¤í–‰í•œë‹¤.
suspend fun fetchLectureIntegratedInfo(onSuccess: () -> Unit) {
        val response = lectureInfoRepository.getLectureDetailInfo(pageViewModel.lectureId)
        when {         
        	response.isSuccessful -> {
                response.body()?.data?.let { data ->
                    _lectureDetailInfoData.value = data
                    onSuccess()
                }
            }
            else -> {
                handleError(response.code())
            }
        }
    }

// ì„œë²„ì—ì„œ ê°•ì˜í‰ê°€ ë˜ëŠ” ì‹œí—˜ì •ë³´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¨ë‹¤.
fun fetchLectureList() {
        if(pageViewModel.page.value!! == LAST_PAGE)
            return
        when (_writeBtnText.value) {
            R.string.write_evaluation -> getEvaluationList()
            else -> getExamList()
        }
    }
```

```kotlin
//Fragment.kt
lifecycleScope.launch {
	lectureInfoViewModel.fetchLectureIntegratedInfo {
        lectureInfoViewModel.fetchLectureList()
   }
}
```